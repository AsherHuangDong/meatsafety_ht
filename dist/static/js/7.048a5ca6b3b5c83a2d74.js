webpackJsonp([7],{LLTJ:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){var e=this;return{search:!0,showDel:!1,selObj:{},indexId:"",indexName:"",keyWord:"",bigObj:{},typeList:[],list:[],columns:[{type:"index",title:"序号",key:"",align:"center"},{title:"单位",key:"unitNumber",align:"center"},{title:"最小值",key:"minNumber",align:"center"},{title:"最大值",key:"maxNumber",align:"center"},{title:"操作",key:"",align:"center",render:function(t,i){return t("div",{},[t("a",{style:{color:"#00C1DE","margin-right":"10px"},on:{click:function(){e.$router.push({path:"/editnumlimits",query:{indexId:e.indexId,indexNumberScopeId:i.row.indexNumberScopeId,minNumber:i.row.minNumber,maxNumber:i.row.maxNumber,unitNumber:i.row.unitNumber,indexName:e.indexName}})}}},"编辑"),t("a",{style:{color:"#00C1DE","margin-right":"10px"},on:{click:function(){e.showDel=!0,e.selObj=i.row}}},"删除")])}}]}},watch:{$route:function(e,t){if(console.log("from",t),"editbignum"==t.name&&this.getBigNum(),"addnumlimits"!=t.name&&"editnumlimits"!=t.name||this.getList(this.indexId),t.query.parents){var i={indexTypeId:t.query.parents};this.clickRow(i)}}},methods:{select:function(e){var t=this;this.indexId=e,this.typeList.forEach(function(i){i.indexLists&&i.indexLists.forEach(function(i){i.indexId==e&&(t.indexName=i.indexName)})}),this.getList(e)},getList:function(e){var t=this,i=new FormData;i.append("indexId",e),this.$axios.post("/api/indexNumberScope/getNumberScopeByindexId",i).then(function(e){100==e.data.code&&(t.list=e.data.data)})},getType:function(){var e=this,t=new FormData;t.append("indexName",this.keyWord),this.$axios.post("/api/indexNumberScope/likeIndexList",t).then(function(t){if(100==t.data.code){e.typeList=t.data.data;for(var i=0;i<e.typeList.length;i++){var n=!0;return e.typeList[i].indexLists&&(e.indexId=e.typeList[i].indexLists[0].indexId,e.indexName=e.typeList[i].indexLists[0].indexName,n=!1),n}}})},getBigNum:function(){var e=this;this.$axios.post("/api/setupNumber/getSetupNumber").then(function(t){e.bigObj=t.data.data})},editBig:function(){this.$router.push({path:"/editbignum",query:{id:this.bigObj.id,name:this.bigObj.maxCompareNumber}})},add:function(){this.$router.push({path:"/addnumlimits",query:{indexId:this.indexId,indexName:this.indexName}})},del:function(){var e=this,t=new FormData;t.append("indexNumberScopeId",this.selObj.indexNumberScopeId),this.$axios.post("/api/indexNumberScope/deleteIndexNumberScope",t).then(function(t){100==t.data.code?(e.showDel=!1,e.getList(e.indexId),e.$Message.success("删除成功！")):e.$Message.error(t.data.msg)})},cancel:function(){this.showDel=!1}},mounted:function(){this.getType(),this.getBigNum()}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top"},[i("p",[e._v("最大可比较数据量："+e._s(e.bigObj.maxCompareNumber)+"条")]),e._v(" "),i("Button",{attrs:{type:"info"},on:{click:e.editBig}},[e._v("修改")])],1),e._v(" "),i("div",{staticClass:"bottom"},[i("div",{staticClass:"sidebar"},[i("div",{staticClass:"search-box"},[i("Input",{staticStyle:{width:"192px"},attrs:{suffix:"ios-search",placeholder:"Enter text",search:""},on:{"on-search":e.getType},model:{value:e.keyWord,callback:function(t){e.keyWord=t},expression:"keyWord"}})],1),e._v(" "),i("Menu",{attrs:{theme:"dark","active-name":e.indexId},on:{"on-select":e.select}},e._l(e.typeList,function(t){return t.indexLists?i("Submenu",{key:t.indexTypeId,attrs:{name:t.indexTypeId}},[i("template",{slot:"title"},[e._v(e._s(t.parentName?t.parentName+"-":"")+e._s(t.indexTypeName))]),e._v(" "),e._l(t.indexLists,function(t){return i("MenuItem",{key:t.indexId,staticClass:"menuItem",attrs:{name:t.indexId}},[i("span",[e._v(e._s(t.indexName))]),e._v(" "),i("span",[e._v(e._s(2==t.isNumberScope?"未设置数值范围":"已设置"))])])})],2):e._e()}),1)],1),e._v(" "),i("div",{staticClass:"con"},[i("Row",[i("Col",{attrs:{span:"11"}},[i("Button",{attrs:{type:"info"},on:{click:e.add}},[e._v("新增")])],1)],1),e._v(" "),i("Row",[i("Table",{staticStyle:{"margin-top":"20px"},attrs:{columns:e.columns,data:e.list}})],1)],1)]),e._v(" "),i("Modal",{attrs:{width:"360","mask-closable":!1,closable:!1},model:{value:e.showDel,callback:function(t){e.showDel=t},expression:"showDel"}},[i("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[i("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),i("span",[e._v("是否删除该条数据？")])],1),e._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("p",[e._v("删除数据后将无法恢复")])]),e._v(" "),i("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"error"},on:{click:e.del}},[e._v("删除")]),e._v(" "),i("Button",{staticStyle:{"margin-left":"40px"},on:{click:e.cancel}},[e._v("取消")])],1)]),e._v(" "),i("router-view")],1)},staticRenderFns:[]};var a=i("VU/8")(n,s,!1,function(e){i("cly6")},"data-v-e25d0762",null);t.default=a.exports},cly6:function(e,t){}});
//# sourceMappingURL=7.048a5ca6b3b5c83a2d74.js.map