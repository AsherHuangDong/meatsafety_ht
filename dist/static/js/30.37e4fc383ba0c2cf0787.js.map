{"version":3,"sources":["webpack:///src/components/page/perm/staffAdd.vue","webpack:///./src/components/page/perm/staffAdd.vue?e3cc","webpack:///./src/components/page/perm/staffAdd.vue"],"names":["staffAdd","components","VueEditor","data","obj","list","rules","nickname","required","message","trigger","email","type","password","adminDescribe","roleId","methods","handleImageAdded","file","Editor","cursorLocation","resetUploader","formData","FormData","append","this","$axios","post","then","result","url","insertEmbed","catch","err","console","log","cancel","$router","go","save","name","_this2","_this","$refs","validate","valid","form","i","res","code","$Message","success","error","msg","getRoles","_this3","get","mounted","perm_staffAdd","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","label-position","label-width","model","label","prop","staticStyle","width","value","callback","$$v","$set","expression","_v","directives","rawName","height","padding","id","domProps","on","input","$event","target","composing","_l","item","key","_s","roleName","margin-right","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.37e4fc383ba0c2cf0787.js","sourcesContent":["<template>\n  <div>\n    <Form\n      label-position=\"right\"\n      :label-width=\"200\"\n      class=\"form\"\n      ref=\"form\"\n      :model=\"obj\"\n      :rules=\"rules\"\n    >\n      <FormItem label=\"昵称(系统名)：\" prop=\"nickname\">\n        <Input v-model=\"obj.nickname\" style=\"width:300px;\"></Input>\n      </FormItem>\n      <FormItem label=\"邮箱（账号）：\" prop=\"email\">\n        <Input v-model=\"obj.email\" style=\"width:300px;\"></Input>\n      </FormItem>\n      <FormItem label=\"密码：\" prop=\"password\">\n        <Input v-model=\"obj.password\" style=\"width:300px;\"></Input>\n      </FormItem>\n      <FormItem label=\"人员描述：\" prop=\"adminDescribe\">\n        <textarea\n          name\n          id\n          style=\"width:300px;height:100px;padding:0 10px;\"\n          v-model=\"obj.adminDescribe\"\n        ></textarea>\n      </FormItem>\n      <FormItem label=\"拥有角色：\" prop=\"roleId\">\n        <Select style=\"width:300px;\" v-model=\"obj.roleId\">\n          <Option v-for=\"item in list\" :key=\"item.roleId\" :value=\"item.roleId\">{{item.roleName}}</Option>\n        </Select>\n      </FormItem>\n      <FormItem>\n        <Button style=\"margin-right:100px;\" @click=\"cancel\">重置</Button>\n        <Button type=\"info\" @click=\"save('form')\">提交</Button>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nimport { VueEditor } from \"vue2-editor\";\nexport default {\n  components: { VueEditor },\n  data() {\n    return {\n      obj: {},\n      list: [],\n      rules: {\n        nickname: [\n          {\n            required: true,\n            message: \"昵称必填\",\n            trigger: \"blur\"\n          }\n        ],\n        email: [\n          {\n            required: true,\n            message: \"邮箱必填\",\n            trigger: \"blur\"\n          },\n          { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\n        ],\n        password: [\n          {\n            required: true,\n            message: \"密码必填\",\n            trigger: \"blur\"\n          }\n        ],\n        adminDescribe: [\n          {\n            required: true,\n            message: \"描述必填\",\n            trigger: \"blur\"\n          }\n        ],\n        roleId: [\n          {\n            required: true,\n            message: \"角色必选\",\n            trigger: 'change',\n            type:'number'\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    handleImageAdded(file, Editor, cursorLocation, resetUploader) {\n      var formData = new FormData();\n      formData.append(\"image\", file);\n      this.$axios\n        .post(\"/api/upload/image\", formData)\n        .then(result => {\n          let url = result.data.data[0]; // Get url from response\n          Editor.insertEmbed(cursorLocation, \"image\", url);\n          resetUploader();\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    },\n    cancel() {\n      this.$router.go(-1);\n    },\n    save(name) {\n      let _this = this;\n      this.$refs[name].validate(valid => {\n        let form = new FormData();\n        for (let i in this.obj) {\n          if (this.obj[i]) {\n            form.append(i, this.obj[i]);\n          }\n        }\n        if (valid) {\n          _this.$axios.post(\"/api/admin/saveAdmin\", form).then(res => {\n            if (res.data.code == 100) {\n              _this.$Message.success(\"添加成功\");\n              _this.$router.go(-1);\n            } else {\n              _this.$Message.error(res.data.msg);\n            }\n          });\n        }\n      });\n    },\n    getRoles() {\n      this.$axios.get(\"/api/role/listRole\").then(res => {\n        this.list = res.data.data;\n      });\n    }\n  },\n  mounted() {\n    this.getRoles();\n  }\n};\n</script>\n<style scoped>\n.form {\n  width: 1000px;\n  margin: 0 auto;\n  display: block;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/perm/staffAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-position\":\"right\",\"label-width\":200,\"model\":_vm.obj,\"rules\":_vm.rules}},[_c('FormItem',{attrs:{\"label\":\"昵称(系统名)：\",\"prop\":\"nickname\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.nickname),callback:function ($$v) {_vm.$set(_vm.obj, \"nickname\", $$v)},expression:\"obj.nickname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱（账号）：\",\"prop\":\"email\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.email),callback:function ($$v) {_vm.$set(_vm.obj, \"email\", $$v)},expression:\"obj.email\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"密码：\",\"prop\":\"password\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.password),callback:function ($$v) {_vm.$set(_vm.obj, \"password\", $$v)},expression:\"obj.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"人员描述：\",\"prop\":\"adminDescribe\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.obj.adminDescribe),expression:\"obj.adminDescribe\"}],staticStyle:{\"width\":\"300px\",\"height\":\"100px\",\"padding\":\"0 10px\"},attrs:{\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.obj.adminDescribe)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.obj, \"adminDescribe\", $event.target.value)}}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"拥有角色：\",\"prop\":\"roleId\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.roleId),callback:function ($$v) {_vm.$set(_vm.obj, \"roleId\", $$v)},expression:\"obj.roleId\"}},_vm._l((_vm.list),function(item){return _c('Option',{key:item.roleId,attrs:{\"value\":item.roleId}},[_vm._v(_vm._s(item.roleName))])}),1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"margin-right\":\"100px\"},on:{\"click\":_vm.cancel}},[_vm._v(\"重置\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.save('form')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47d4151a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/perm/staffAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-47d4151a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./staffAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./staffAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./staffAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47d4151a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./staffAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-47d4151a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/perm/staffAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}