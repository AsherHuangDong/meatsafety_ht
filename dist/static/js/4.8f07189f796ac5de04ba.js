webpackJsonp([4],{GoK9:function(t,e){},bOdI:function(t,e,o){"use strict";e.__esModule=!0;var a,s=o("C4MV"),l=(a=s)&&a.__esModule?a:{default:a};e.default=function(t,e,o){return e in t?(0,l.default)(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}},cjU1:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=o("bOdI"),l=o.n(s),i={data:function(){return{id:"",showResult:!1,showResult1:!1,showModal:!0,list:[],obj:[],formValidate:{},rules:{name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]}}},methods:(a={cancel:function(){this.$router.go(-1)},sure:function(){this.$router.go(-1)},saveUpload:function(){},cancelUpload:function(){this.$router.go(-1)},handleUpload:function(t){var e=this,o=new FormData;return o.append("file",t),this.$axios.post("/api/literatureExcel/importExcel",o).then(function(t){100==t.data.code?(e.obj=t.data.data,t.data.data[1].length>0?(e.showResult=!0,e.showResult1=!1,e.showModal=!1,e.list=t.data.data[1]):t.data.data[2].length>0?(e.showResult=!1,e.showResult1=!0,e.showModal=!1,e.list=t.data.data[2]):e.jixu()):e.$Message.error(t.data.msg)}),!1}},l()(a,"saveUpload",function(){this.obj[2].length>0?(this.list=this.obj[2],this.showModal=!1,this.showResult1=!0,this.showResult=!1):this.jixu()}),l()(a,"jixu",function(){var t=this;new FormData,this.obj[0];console.log(this.obj[3][1]);this.obj[3];this.$axios.post("/api/literatureExcel/updateImportExcel",{literatureDataListMap:this.obj[3],literatureList:this.obj[0],literatureId:this.id}).then(function(e){100==e.data.code?(t.$Message.success("上传成功"),t.$router.go(-1)):t.$Message.error(e.data.msg)})}),l()(a,"download",function(){location.href="/api/literatureExcel/exportExcelTemplate"}),a),mounted:function(){this.id=this.$route.query.id}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Modal",{staticStyle:{padding:"0 20px 20px"},attrs:{width:"600","mask-closable":!1,closable:!1},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[o("p",{attrs:{slot:"header"},slot:"header"},[t._v("上传数据")]),t._v(" "),o("div",[o("Upload",{attrs:{multiple:"",type:"drag","before-upload":t.handleUpload,action:""}},[o("div",{staticStyle:{padding:"20px 0"}},[o("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),t._v(" "),o("p",[t._v("选择/拖拽上传文件")]),t._v(" "),o("p",[t._v("\n            支持xls和xlsx文件格式，数据格式参照\n            "),o("span",{staticStyle:{color:"blue"},on:{click:function(e){return e.stopPropagation(),t.download(e)}}},[t._v("肉品品质安全数据库上传模板")])])],1)])],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:t.cancel}},[t._v("取消")]),t._v(" "),o("Button",{attrs:{type:"primary"},on:{click:t.sure}},[t._v("确定")])],1)]),t._v(" "),o("Modal",{staticStyle:{padding:"0 20px 20px"},attrs:{width:"600","mask-closable":!1,closable:!1},model:{value:t.showResult,callback:function(e){t.showResult=e},expression:"showResult"}},[o("p",{attrs:{slot:"header"},slot:"header"},[t._v("预警提示")]),t._v(" "),o("div",[o("h3",{staticStyle:{"text-align":"center"}},[t._v("系统指标库中不存在下列指标，是否继续上传？")]),t._v(" "),t._l(t.list,function(e,a){return o("p",{key:a,staticStyle:{"text-align":"center","padding-top":"10px"}},[t._v(t._s(e))])})],2),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:t.cancelUpload}},[t._v("取消上传")]),t._v(" "),o("Button",{attrs:{type:"primary"},on:{click:t.saveUpload}},[t._v("继续上传")])],1)]),t._v(" "),o("Modal",{staticStyle:{padding:"0 20px 20px"},attrs:{width:"600","mask-closable":!1,closable:!1},model:{value:t.showResult1,callback:function(e){t.showResult1=e},expression:"showResult1"}},[o("p",{attrs:{slot:"header"},slot:"header"},[t._v("预警提示")]),t._v(" "),o("div",[o("h3",{staticStyle:{"text-align":"center"}},[t._v("下列指标数据可能有误，是否继续上传？")]),t._v(" "),t._l(t.list,function(e,a){return o("p",{key:a,staticStyle:{"text-align":"center","padding-top":"10px"}},[t._v(t._s(e))])})],2),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:t.cancelUpload}},[t._v("取消上传")]),t._v(" "),o("Button",{attrs:{type:"primary"},on:{click:t.jixu}},[t._v("继续上传")])],1)])],1)},staticRenderFns:[]};var r=o("VU/8")(i,n,!1,function(t){o("GoK9")},null,null);e.default=r.exports}});
//# sourceMappingURL=4.8f07189f796ac5de04ba.js.map