{"version":3,"sources":["webpack:///src/components/page/perm/staffEdit.vue","webpack:///./src/components/page/perm/staffEdit.vue?0f74","webpack:///./src/components/page/perm/staffEdit.vue"],"names":["staffEdit","components","VueEditor","data","obj","nickname","email","password","adminDescribe","roleId","list","rules","required","message","trigger","type","methods","handleImageAdded","file","Editor","cursorLocation","resetUploader","formData","FormData","append","this","$axios","post","then","result","url","insertEmbed","catch","err","console","log","cancel","$router","go","save","name","_this2","_this","$refs","validate","valid","form","i","res","code","$Message","success","error","msg","getRoles","_this3","get","getDetail","_this4","adminId","mounted","$route","query","perm_staffEdit","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","label-position","label-width","model","label","prop","staticStyle","width","value","callback","$$v","$set","expression","_v","directives","rawName","height","padding","id","domProps","on","input","$event","target","composing","_l","item","key","_s","roleName","margin-right","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/30.b55795c34fabfed84a27.js","sourcesContent":["<template>\r\n  <div>\r\n    <Form\r\n      label-position=\"right\"\r\n      :label-width=\"200\"\r\n      class=\"form\"\r\n      ref=\"form\"\r\n      :model=\"obj\"\r\n      :rules=\"rules\"\r\n    >\r\n      <FormItem label=\"昵称(系统名)：\" prop=\"nickname\">\r\n        <Input v-model=\"obj.nickname\" style=\"width:300px;\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"邮箱（账号）：\" prop=\"email\">\r\n        <Input v-model=\"obj.email\" style=\"width:300px;\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"密码：\" prop=\"password\">\r\n        <Input v-model=\"obj.password\" style=\"width:300px;\"></Input>\r\n      </FormItem>\r\n      <FormItem label=\"人员描述：\" prop=\"adminDescribe\">\r\n        <textarea\r\n          name\r\n          id\r\n          style=\"width:300px;height:100px;padding:0 10px;\"\r\n          v-model=\"obj.adminDescribe\"\r\n        ></textarea>\r\n      </FormItem>\r\n      <FormItem label=\"拥有角色：\" prop=\"roleId\">\r\n        <Select style=\"width:300px;\" v-model=\"obj.roleId\">\r\n          <Option v-for=\"item in list\" :key=\"item.roleId\" :value=\"item.roleId\">{{item.roleName}}</Option>\r\n        </Select>\r\n      </FormItem>\r\n      <FormItem>\r\n        <Button style=\"margin-right:100px;\" @click=\"cancel\">返回</Button>\r\n        <Button type=\"info\" @click=\"save('form')\">提交</Button>\r\n      </FormItem>\r\n    </Form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { VueEditor } from \"vue2-editor\";\r\nexport default {\r\n  components: { VueEditor },\r\n  data() {\r\n    return {\r\n      obj: {\r\n          nickname:'',\r\n          email:'',\r\n          password:'',\r\n          adminDescribe:'',\r\n          roleId:''\r\n      },\r\n      list: [],\r\n      rules: {\r\n        nickname: [\r\n          {\r\n            required: true,\r\n            message: \"昵称必填\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: \"邮箱必填\",\r\n            trigger: \"blur\"\r\n          },\r\n          { type: 'email', message: '邮箱格式不正确', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"密码必填\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        adminDescribe: [\r\n          {\r\n            required: true,\r\n            message: \"描述必填\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        roleId: [\r\n          {\r\n            required: true,\r\n            message: \"角色必选\",\r\n            trigger: \"change\",\r\n            type: \"number\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    handleImageAdded(file, Editor, cursorLocation, resetUploader) {\r\n      var formData = new FormData();\r\n      formData.append(\"image\", file);\r\n      this.$axios\r\n        .post(\"/api/upload/image\", formData)\r\n        .then(result => {\r\n          let url = result.data.data[0]; // Get url from response\r\n          Editor.insertEmbed(cursorLocation, \"image\", url);\r\n          resetUploader();\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    cancel() {\r\n      this.$router.go(-1);\r\n    },\r\n    save(name) {\r\n      let _this = this;\r\n      this.$refs[name].validate(valid => {\r\n        let form = new FormData();\r\n        for (let i in this.obj) {\r\n          if (this.obj[i]) {\r\n            form.append(i, this.obj[i]);\r\n          }\r\n        }\r\n        if (valid) {\r\n          _this.$axios.post(\"/api/admin/updateAdmin\", form).then(res => {\r\n            if (res.data.code == 100) {\r\n              _this.$Message.success(\"修改成功\");\r\n              _this.$router.go(-1);\r\n            } else {\r\n              _this.$Message.error(res.data.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    getRoles() {\r\n      this.$axios.get(\"/api/role/listRole\").then(res => {\r\n        this.list = res.data.data;\r\n      });\r\n    },\r\n    getDetail() {\r\n      let form = new FormData();\r\n      form.append(\"adminId\", this.obj.adminId);\r\n      this.$axios.post(\"/api/admin/getAdmin\",form).then(res => {\r\n        this.obj.nickname = res.data.data.nickname\r\n        this.obj.email= res.data.data.email\r\n        this.obj.password = res.data.data.password\r\n        this.obj.adminDescribe = res.data.data.adminDescribe\r\n        this.obj.roleId = res.data.data.roleId\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    this.obj.adminId = this.$route.query.adminId;\r\n    this.getDetail()\r\n    this.getRoles();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.form {\r\n  width: 1000px;\r\n  margin: 0 auto;\r\n  display: block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/perm/staffEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-position\":\"right\",\"label-width\":200,\"model\":_vm.obj,\"rules\":_vm.rules}},[_c('FormItem',{attrs:{\"label\":\"昵称(系统名)：\",\"prop\":\"nickname\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.nickname),callback:function ($$v) {_vm.$set(_vm.obj, \"nickname\", $$v)},expression:\"obj.nickname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"邮箱（账号）：\",\"prop\":\"email\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.email),callback:function ($$v) {_vm.$set(_vm.obj, \"email\", $$v)},expression:\"obj.email\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"密码：\",\"prop\":\"password\"}},[_c('Input',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.password),callback:function ($$v) {_vm.$set(_vm.obj, \"password\", $$v)},expression:\"obj.password\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"人员描述：\",\"prop\":\"adminDescribe\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.obj.adminDescribe),expression:\"obj.adminDescribe\"}],staticStyle:{\"width\":\"300px\",\"height\":\"100px\",\"padding\":\"0 10px\"},attrs:{\"name\":\"\",\"id\":\"\"},domProps:{\"value\":(_vm.obj.adminDescribe)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.obj, \"adminDescribe\", $event.target.value)}}})]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"拥有角色：\",\"prop\":\"roleId\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.obj.roleId),callback:function ($$v) {_vm.$set(_vm.obj, \"roleId\", $$v)},expression:\"obj.roleId\"}},_vm._l((_vm.list),function(item){return _c('Option',{key:item.roleId,attrs:{\"value\":item.roleId}},[_vm._v(_vm._s(item.roleName))])}),1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"margin-right\":\"100px\"},on:{\"click\":_vm.cancel}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.save('form')}}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1fa7c32a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/perm/staffEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1fa7c32a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./staffEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./staffEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./staffEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1fa7c32a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./staffEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1fa7c32a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/perm/staffEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}