webpackJsonp([16],{MK0G:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={components:{VueEditor:a("+qPk").a},data:function(){return{obj:{},list:[],rules:{nickname:[{required:!0,message:"昵称必填",trigger:"blur"}],email:[{required:!0,message:"邮箱必填",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],password:[{required:!0,message:"密码必填",trigger:"blur"}],adminDescribe:[{required:!0,message:"描述必填",trigger:"blur"}],roleId:[{required:!0,message:"角色必选",trigger:"change",type:"number"}]}}},methods:{handleImageAdded:function(e,t,a,r){var o=new FormData;o.append("image",e),this.$axios.post("/api/upload/image",o).then(function(e){var o=e.data.data[0];t.insertEmbed(a,"image",o),r()}).catch(function(e){console.log(e)})},cancel:function(){this.$router.go(-1)},save:function(e){var t=this,a=this;this.$refs[e].validate(function(e){var r=new FormData;for(var o in t.obj)t.obj[o]&&r.append(o,t.obj[o]);e&&a.$axios.post("/api/admin/saveAdmin",r).then(function(e){100==e.data.code?(a.$Message.success("添加成功"),a.$router.go(-1)):a.$Message.error(e.data.msg)})})},getRoles:function(){var e=this;this.$axios.get("/api/role/listRole").then(function(t){e.list=t.data.data})}},mounted:function(){this.getRoles()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"form",staticClass:"form",attrs:{"label-position":"right","label-width":200,model:e.obj,rules:e.rules}},[a("FormItem",{attrs:{label:"昵称(系统名)：",prop:"nickname"}},[a("Input",{staticStyle:{width:"300px"},model:{value:e.obj.nickname,callback:function(t){e.$set(e.obj,"nickname",t)},expression:"obj.nickname"}})],1),e._v(" "),a("FormItem",{attrs:{label:"邮箱（账号）：",prop:"email"}},[a("Input",{staticStyle:{width:"300px"},model:{value:e.obj.email,callback:function(t){e.$set(e.obj,"email",t)},expression:"obj.email"}})],1),e._v(" "),a("FormItem",{attrs:{label:"密码：",prop:"password"}},[a("Input",{staticStyle:{width:"300px"},model:{value:e.obj.password,callback:function(t){e.$set(e.obj,"password",t)},expression:"obj.password"}})],1),e._v(" "),a("FormItem",{attrs:{label:"人员描述：",prop:"adminDescribe"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.obj.adminDescribe,expression:"obj.adminDescribe"}],staticStyle:{width:"300px",height:"100px",padding:"0 10px"},attrs:{name:"",id:""},domProps:{value:e.obj.adminDescribe},on:{input:function(t){t.target.composing||e.$set(e.obj,"adminDescribe",t.target.value)}}})]),e._v(" "),a("FormItem",{attrs:{label:"拥有角色：",prop:"roleId"}},[a("Select",{staticStyle:{width:"300px"},model:{value:e.obj.roleId,callback:function(t){e.$set(e.obj,"roleId",t)},expression:"obj.roleId"}},e._l(e.list,function(t){return a("Option",{key:t.roleId,attrs:{value:t.roleId}},[e._v(e._s(t.roleName))])}),1)],1),e._v(" "),a("FormItem",[a("Button",{staticStyle:{"margin-right":"100px"},on:{click:e.cancel}},[e._v("重置")]),e._v(" "),a("Button",{attrs:{type:"info"},on:{click:function(t){return e.save("form")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,o,!1,function(e){a("mBhF")},"data-v-5bfeaafa",null);t.default=i.exports},mBhF:function(e,t){}});
//# sourceMappingURL=16.0c026a2894ed6d25f0ba.js.map