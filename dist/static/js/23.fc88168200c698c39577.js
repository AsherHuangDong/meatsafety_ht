webpackJsonp([23],{"9bAh":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{VueEditor:n("+qPk").a},data:function(){return{obj:{}}},methods:{handleImageAdded:function(t,e,n,a){var o=new FormData;o.append("image",t),this.$axios.post("/api/upload/image",o).then(function(t){var o=t.data.data[0];e.insertEmbed(n,"image",o),a()}).catch(function(t){console.log(t)})},cancel:function(){this.$router.go(-1)},save:function(){var t=this,e=new FormData;return this.obj.title?this.obj.content?(e.append("title",this.obj.title),e.append("content",this.obj.content),void this.$axios.post("/api/announcement/addAnnounceone",e).then(function(e){100==e.data.code?(t.$Message.success("添加成功！"),t.$router.go(-1)):t.$Message.error(e.data.msg)})):(this.$Message.error("请填写内容"),!1):(this.$Message.error("请填写标题"),!1)}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Form",{staticClass:"form",attrs:{"label-position":"right","label-width":100}},[n("FormItem",{attrs:{label:"标题：",prop:"name"}},[n("Input",{model:{value:t.obj.title,callback:function(e){t.$set(t.obj,"title",e)},expression:"obj.title"}})],1),t._v(" "),n("FormItem",{attrs:{label:"内容：",prop:"name"}},[n("VueEditor",{staticStyle:{width:"100%",height:"auto"},attrs:{useCustomImageHandler:""},on:{"image-added":t.handleImageAdded},model:{value:t.obj.content,callback:function(e){t.$set(t.obj,"content",e)},expression:"obj.content"}})],1),t._v(" "),n("FormItem",[n("Button",{staticStyle:{"margin-right":"100px"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),n("Button",{attrs:{type:"info"},on:{click:t.save}},[t._v("发布")])],1)],1)],1)},staticRenderFns:[]};var i=n("VU/8")(a,o,!1,function(t){n("a5S/")},"data-v-69358cc4",null);e.default=i.exports},"a5S/":function(t,e){}});
//# sourceMappingURL=23.fc88168200c698c39577.js.map